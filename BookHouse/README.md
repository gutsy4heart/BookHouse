# BookHouse API

ASP.NET Core 8.0 Web API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–Ω–∏–≥–∞–º–∏ —Å PostgreSQL –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç —Å Docker

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Docker
- Docker Compose

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone <your-repo-url>
cd BookHouse
```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å –ø–æ–º–æ—â—å—é Docker Compose:**
```bash
docker-compose up -d
```

3. **–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:**
- API: http://localhost:5006/api/book
- Swagger UI: http://localhost:5006/swagger
- Adminer (–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö): http://localhost:8089

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
docker-compose down
```

## üõ† –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- .NET 8.0 SDK
- PostgreSQL

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
# –ó–∞–ø—É—Å–∫ PostgreSQL
sudo systemctl start postgresql

# –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
sudo -u postgres createdb bookhouse

# –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
dotnet ef database update
```

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
dotnet run
```

## üìö API Endpoints

- `GET /api/book` - –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∫–Ω–∏–≥–∏
- `GET /api/book/{id}` - –ü–æ–ª—É—á–∏—Ç—å –∫–Ω–∏–≥—É –ø–æ ID
- `POST /api/book` - –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–Ω–∏–≥—É
- `PUT /api/book` - –û–±–Ω–æ–≤–∏—Ç—å –∫–Ω–∏–≥—É
- `DELETE /api/book/{id}` - –£–¥–∞–ª–∏—Ç—å –∫–Ω–∏–≥—É

## üîß CI/CD

–ü—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å GitHub Actions –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è:

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –ø—Ä–∏ push –≤ master:
1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç–æ–≤
2. **–°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞** - —Å–æ–∑–¥–∞–Ω–∏–µ –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–∑–∞ –≤ Docker Hub
3. **–î–µ–ø–ª–æ–π** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –†—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π:
- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Actions ‚Üí CI/CD for BookHouse project ‚Üí Run workflow

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ GitHub
–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å–µ–∫—Ä–µ—Ç—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:
- `DOCKER_USERNAME` - –≤–∞—à Docker Hub username
- `DOCKER_PASSWORD` - –≤–∞—à Docker Hub password/token
- `AZURE_VM_HOST` - IP –∞–¥—Ä–µ—Å –≤–∞—à–µ–≥–æ Azure VM
- `AZURE_VM_USERNAME` - username –¥–ª—è SSH –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
- `AZURE_VM_SSH_KEY` - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π SSH –∫–ª—é—á

## üê≥ Docker

### –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
```bash
docker build -t bookhouse-api .
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
```bash
docker run -p 5006:80 bookhouse-api
```

### Docker Compose —Å–µ—Ä–≤–∏—Å—ã
- **api** - ASP.NET Core –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–ø–æ—Ä—Ç 5006)
- **postgres** - PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **adminer** - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ë–î (–ø–æ—Ä—Ç 8089)

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License 